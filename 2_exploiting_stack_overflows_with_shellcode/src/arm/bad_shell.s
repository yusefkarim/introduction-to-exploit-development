.syntax unified

.data
    shell: .ascii "/bin/sh\0"

.text
.global _start

_start:
    .code 32
    @@@ execve("/bin/sh", 0, 0); @@@
    ldr r0, shell_addr  @ Load executable we want to execute in r0
    mov r1, 0           @ Store NULL in r1
    mov r2, 0           @ Store NULL in r2
    mov r7, 11          @ Store the sycall for execve (11) in r7
    swi 0               @ Software interrupt to make the syscall

    @@@ exit(0); @@@
    mov r0, 0           @ Store the exit value we want to return in r0
    mov r7, 1           @ Store the sycall for exit (1) in r7
    swi 0               @ Software interrupt to make the syscall

shell_addr:
    .word shell

